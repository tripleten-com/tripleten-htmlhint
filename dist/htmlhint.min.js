!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).HTMLHint=t()}(this,(function(){"use strict";function e(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var t={},a={};Object.defineProperty(a,"__esModule",{value:!0});a.default=class{constructor(){this._listeners={},this._mapCdataTags=this.makeMap("script,style"),this._arrBlocks=[],this.lastEvent=null}makeMap(e){const t={},a=e.split(",");for(let e=0;e<a.length;e++)t[a[e]]=!0;return t}parse(e){const t=this._mapCdataTags,a=/<(?:\/([^\s>]+)\s*|!--([\s\S]*?)--|!([^>]*?)|([\w\-:]+)((?:\s+[^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s"'>]*))?)*?)\s*(\/?))>/g,r=/\s*([^\s"'>\/=\x00-\x0F\x7F\x80-\x9F]+)(?:\s*=\s*(?:(")([^"]*)"|(')([^']*)'|([^\s"'>]*)))?/g,n=/\r?\n/g;let i,s,l,o,d,u,c=0,h=null,f=[],g=0,p=0,m=1;const b=this._arrBlocks;this.fire("start",{pos:0,line:1,col:1});const v=()=>{const e=o.find((e=>"type"===e.name))||{value:""};return t[l]&&-1===e.value.indexOf("text/ng-template")},y=(e,t,a,r)=>{const i=a-p+1;for(void 0===r&&(r={}),r.raw=t,r.pos=a,r.line=m,r.col=i,b.push(r),this.fire(e,r);n.exec(t);)m++,p=a+n.lastIndex};for(;i=a.exec(e);)if(s=i.index,s>c&&(u=e.substring(c,s),h?f.push(u):y("text",u,c)),c=a.lastIndex,!(l=i[1])||(h&&l===h&&(u=f.join(""),y("cdata",u,g,{tagName:h,attrs:d}),h=null,d=void 0,f=[]),h))if(h)f.push(i[0]);else if(l=i[4]){o=[];const e=i[5];let t,a=0;for(;t=r.exec(e);){const e=t[1],r=t[2]?t[2]:t[4]?t[4]:"",n=t[3]?t[3]:t[5]?t[5]:t[6]?t[6]:"";o.push({name:e,value:n,quote:r,index:t.index,raw:t[0]}),a+=t[0].length}a===e.length?(y("tagstart",i[0],s,{tagName:l,attrs:o,close:i[6]}),v()&&(h=l,d=o.concat(),f=[],g=c)):y("text",i[0],s)}else(i[2]||i[3])&&y("comment",i[0],s,{content:i[2]||i[3],long:!!i[2]});else y("tagend",i[0],s,{tagName:l});e.length>c&&(u=e.substring(c,e.length),y("text",u,c)),this.fire("end",{pos:c,line:m,col:e.length-p+1})}addListener(e,t){const a=this._listeners,r=e.split(/[,\s]/);let n;for(let e=0,i=r.length;e<i;e++)n=r[e],void 0===a[n]&&(a[n]=[]),a[n].push(t)}fire(e,t){void 0===t&&(t={}),t.type=e;let a=[];const r=this._listeners[e],n=this._listeners.all;void 0!==r&&(a=a.concat(r)),void 0!==n&&(a=a.concat(n));const i=this.lastEvent;null!==i&&(delete i.lastEvent,t.lastEvent=i),this.lastEvent=t;for(let e=0,r=a.length;e<r;e++)a[e].call(this,t)}removeListener(e,t){const a=this._listeners[e];if(void 0!==a)for(let e=0,r=a.length;e<r;e++)if(a[e]===t){a.splice(e,1);break}}fixPos(e,t){const a=e.raw.substr(0,t).split(/\r?\n/),r=a.length-1;let n,i=e.line;return r>0?(i+=r,n=a[r].length+1):n=e.col+t,{line:i,col:n}}getMapAttrs(e){const t={};let a;for(let r=0,n=e.length;r<n;r++)a=e[r],t[a.name]=a.value;return t}};var r={};Object.defineProperty(r,"__esModule",{value:!0});r.default=class{constructor(e,t){this.html=e,this.lines=e.split(/\r?\n/);const a=/\r?\n/.exec(e);this.brLen=null!==a?a[0].length:0,this.ruleset=t,this.messages=[]}info(e,t,a,r,n,i,s){this.report("info",e,t,a,r,n,i,s)}warn(e,t,a,r,n,i,s){this.report("warning",e,t,a,r,n,i,s)}error(e,t,a,r,n,i,s){this.report("error",e,t,a,r,n,i,s)}report(e,t,a,r,n,i,s,l){const o=this.lines,d=this.brLen;let u="",c=0;for(let e=r-1,t=o.length;e<t&&(u=o[e],c=u.length,n>c&&r<t);e++)r++,1!==(n-=c)&&(n-=d);this.messages.push({type:e,message:{id:t,values:a},raw:s,rawMessage:l||"",evidence:u,line:r,col:n,rule:{id:i.id,description:i.description,link:`https://htmlhint.com/docs/user-guide/rules/${i.id}`}})}};var n={},i={};Object.defineProperty(i,"__esModule",{value:!0}),i.default={id:"alt-require",description:"The alt attribute of an <img> element must be present and alt attribute of area[href] and input[type=image] must have a value.",init(e,t){e.addListener("tagstart",(a=>{const r=a.tagName.toLowerCase(),n=e.getMapAttrs(a.attrs),i=a.col+r.length+1;let s;"img"!==r||"alt"in n?("area"===r&&"href"in n||"input"===r&&"image"===n.type)&&("alt"in n&&""!==n.alt||(s="area"===r?"area[href]":"input[type=image]",t.warn(this.id+".selector",{selector:s},a.line,i,this,a.raw))):t.warn(this.id+".img",{},a.line,i,this,a.raw)}))}};var s={};Object.defineProperty(s,"__esModule",{value:!0});const l=["allowReorder","attributeName","attributeType","autoReverse","baseFrequency","baseProfile","calcMode","clipPath","clipPathUnits","contentScriptType","contentStyleType","diffuseConstant","edgeMode","externalResourcesRequired","filterRes","filterUnits","glyphRef","gradientTransform","gradientUnits","kernelMatrix","kernelUnitLength","keyPoints","keySplines","keyTimes","lengthAdjust","limitingConeAngle","markerHeight","markerUnits","markerWidth","maskContentUnits","maskUnits","numOctaves","onBlur","onChange","onClick","onFocus","onKeyUp","onLoad","pathLength","patternContentUnits","patternTransform","patternUnits","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","refX","refY","repeatCount","repeatDur","requiredExtensions","requiredFeatures","specularConstant","specularExponent","spreadMethod","startOffset","stdDeviation","stitchTiles","surfaceScale","systemLanguage","tableValues","targetX","targetY","textLength","viewBox","viewTarget","xChannelSelector","yChannelSelector","zoomAndPan"];function o(e,t){if(t instanceof RegExp)return!!t.test(e)&&{match:e,pattern:t};const a=t[0],r=t[t.length-1],n=t[t.length-2],i="/"===a&&("/"===r||"/"===n&&"i"===r);if(i){return i&&"i"===r?new RegExp(t.slice(1,-2),"i").test(e):new RegExp(t.slice(1,-1)).test(e)}return e===t}s.default={id:"attr-lowercase",description:"All attribute names must be in lowercase.",init(e,t,a){const r=(Array.isArray(a)?a:[]).concat(l);e.addListener("tagstart",(e=>{const a=e.attrs;let n;const i=e.col+e.tagName.length+1;for(let s=0,l=a.length;s<l;s++){n=a[s];const l=n.name;r.find((e=>o(l,e)))||l===l.toLowerCase()||t.error(this.id,{attrName:l},e.line,i+n.index,this,n.raw,`The attribute name of [ ${l} ] must be in lowercase.`)}}))}};var d={};Object.defineProperty(d,"__esModule",{value:!0}),d.default={id:"attr-sorted",description:"Attribute tags must be in proper order.",init(e,t){const a={},r=["class","id","name","src","for","type","href","value","title","alt","role"];for(let e=0;e<r.length;e++)a[r[e]]=e;e.addListener("tagstart",(e=>{const r=e.attrs,n=[];for(let e=0;e<r.length;e++)n.push(r[e].name);const i=JSON.stringify(n);n.sort(((e,t)=>null==a[e]&&null==a[t]?0:null==a[e]?1:null==a[t]?-1:a[e]-a[t]||e.localeCompare(t))),i!==JSON.stringify(n)&&t.error(this.id,{originalAttrs:i,listOfAttributes:JSON.stringify(n)},e.line,e.col,this,e.raw,`Inaccurate order ${i} should be in hierarchy ${JSON.stringify(n)} `)}))}};var u={};Object.defineProperty(u,"__esModule",{value:!0}),u.default={id:"attr-no-duplication",description:"Elements cannot have duplicate attributes.",init(e,t){e.addListener("tagstart",(e=>{const a=e.attrs;let r,n;const i=e.col+e.tagName.length+1,s={};for(let l=0,o=a.length;l<o;l++)r=a[l],n=r.name,!0===s[n]&&t.error(this.id,{attrName:n},e.line,i+r.index,this,r.raw,`Duplicate of attribute name [ ${r.name} ] was found.`),s[n]=!0}))}};var c={};Object.defineProperty(c,"__esModule",{value:!0}),c.default={id:"attr-unsafe-chars",description:"Attribute values cannot contain unsafe chars.",init(e,t){e.addListener("tagstart",(e=>{const a=e.attrs;let r;const n=e.col+e.tagName.length+1,i=/[\u0000-\u0008\u000b\u000c\u000e-\u001f\u007f-\u009f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/;let s;for(let l=0,o=a.length;l<o;l++)if(r=a[l],s=i.exec(r.value),null!==s){const a=escape(s[0]).replace(/%u/,"\\u").replace(/%/,"\\x");t.warn(this.id,{attrName:r.name,unsafeCode:a},e.line,n+r.index,this,r.raw,`The value of attribute [ ${r.name} ] cannot contain an unsafe char [ ${a} ].`)}}))}};var h={};Object.defineProperty(h,"__esModule",{value:!0}),h.default={id:"attr-value-double-quotes",description:"Attribute values must be in double quotes.",init(e,t){e.addListener("tagstart",(e=>{const a=e.attrs;let r;const n=e.col+e.tagName.length+1;for(let i=0,s=a.length;i<s;i++)r=a[i],(""!==r.value&&'"'!==r.quote||""===r.value&&"'"===r.quote)&&t.error(this.id,{attrName:r.name},e.line,n+r.index,this,r.raw,`The value of attribute [ ${r.name} ] must be in double quotes.`)}))}};var f={};Object.defineProperty(f,"__esModule",{value:!0}),f.default={id:"attr-value-not-empty",description:"All attributes must have values.",init(e,t){e.addListener("tagstart",(e=>{const a=e.attrs;let r;const n=e.col+e.tagName.length+1;for(let i=0,s=a.length;i<s;i++)r=a[i],""===r.quote&&""===r.value&&t.warn(this.id,{attrName:r.name},e.line,n+r.index,this,r.raw,`The attribute [ ${r.name} ] must have a value.`)}))}};var g={};Object.defineProperty(g,"__esModule",{value:!0}),g.default={id:"attr-value-single-quotes",description:"Attribute values must be in single quotes.",init(e,t){e.addListener("tagstart",(e=>{const a=e.attrs;let r;const n=e.col+e.tagName.length+1;for(let i=0,s=a.length;i<s;i++)r=a[i],(""!==r.value&&"'"!==r.quote||""===r.value&&'"'===r.quote)&&t.error(this.id,{attrName:r.name},e.line,n+r.index,this,r.raw,`The value of attribute [ ${r.name} ] must be in single quotes.`)}))}};var p={};Object.defineProperty(p,"__esModule",{value:!0}),p.default={id:"attr-whitespace",description:"All attributes should be separated by only one space and not have leading/trailing whitespace.",init(e,t,a){const r=Array.isArray(a)?a:[];e.addListener("tagstart",(e=>{const a=e.attrs;let n;const i=e.col+e.tagName.length+1;a.forEach((a=>{n=a;const s=a.name;-1===r.indexOf(s)&&(a.value.trim()!==a.value&&t.error(this.id+".no-trailing",{attrName:s},e.line,i+n.index,this,n.raw,`The attributes of [ ${s} ] must not have leading or trailing whitespace.`),a.value.replace(/ +(?= )/g,"")!==a.value&&t.error(this.id+".separated-by-one",{attrName:s},e.line,i+n.index,this,n.raw,`The attributes of [ ${s} ] must be separated by only one space.`))}))}))}};var m={};Object.defineProperty(m,"__esModule",{value:!0}),m.default={id:"doctype-first",description:"Doctype must be declared first.",init(e,t){const a=r=>{"start"===r.type||"text"===r.type&&/^\s*$/.test(r.raw)||(("comment"!==r.type&&!1===r.long||!1===/^DOCTYPE\s+/i.test(r.content))&&t.error(this.id,{},r.line,r.col,this,r.raw,"Doctype must be declared first."),e.removeListener("all",a))};e.addListener("all",a)}};var b={};Object.defineProperty(b,"__esModule",{value:!0}),b.default={id:"doctype-html5",description:'Invalid doctype. Use: "<!DOCTYPE html>"',init(e,t){const a=e=>{!1===e.long&&"doctype html"!==e.content.toLowerCase()&&t.warn(this.id,{},e.line,e.col,this,e.raw,'Invalid doctype. Use: "<!DOCTYPE html>"')},r=()=>{e.removeListener("comment",a),e.removeListener("tagstart",r)};e.addListener("all",a),e.addListener("tagstart",r)}};var v={};Object.defineProperty(v,"__esModule",{value:!0}),v.default={id:"head-script-disabled",description:"The <script> tag cannot be used in a <head> tag.",init(e,t){const a=/^(text\/javascript|application\/javascript)$/i;let r=!1;const n=n=>{const i=e.getMapAttrs(n.attrs).type,s=n.tagName.toLowerCase();"head"===s&&(r=!0),!0!==r||"script"!==s||i&&!0!==a.test(i)||t.warn(this.id,{},n.line,n.col,this,n.raw,"The <script> tag cannot be used in a <head> tag.")},i=t=>{"head"===t.tagName.toLowerCase()&&(e.removeListener("tagstart",n),e.removeListener("tagend",i))};e.addListener("tagstart",n),e.addListener("tagend",i)}};var y={};Object.defineProperty(y,"__esModule",{value:!0}),y.default={id:"href-abs-or-rel",description:"An href attribute must be either absolute or relative.",init(e,t,a){const r="abs"===a?"absolute":"relative";e.addListener("tagstart",(e=>{const a=e.attrs;let n;const i=e.col+e.tagName.length+1;for(let s=0,l=a.length;s<l;s++)if(n=a[s],"href"===n.name){("absolute"===r&&!1===/^\w+?:/.test(n.value)||"relative"===r&&!0===/^https?:\/\//.test(n.value))&&t.warn(this.id,{attrValue:n.value,hrefMode:r},e.line,i+n.index,this,n.raw,`The value of the href attribute [ ${n.value} ] must be ${r}.`);break}}))}};var w={};Object.defineProperty(w,"__esModule",{value:!0});w.default={id:"html-lang-require",description:"The lang attribute of an <html> element must be present and should be valid.",init(e,t){e.addListener("tagstart",(a=>{const r=a.tagName.toLowerCase(),n=e.getMapAttrs(a.attrs),i=a.col+r.length+1,s=new RegExp("((?<grandfathered>(en-GB-oed|i-ami|i-bnn|i-default|i-enochian|i-hak|i-klingon|i-lux|i-mingo|i-navajo|i-pwn|i-tao|i-tay|i-tsu|sgn-BE-FR|sgn-BE-NL|sgn-CH-DE)|(art-lojban|cel-gaulish|no-bok|no-nyn|zh-guoyu|zh-hakka|zh-min|zh-min-nan|zh-xiang))|((?<language>([A-Za-z]{2,3}(-(?<extlang>[A-Za-z]{3}(-[A-Za-z]{3}){0,2}))?)|[A-Za-z]{4}|[A-Za-z]{5,8})(-(?<script>[A-Za-z]{4}))?(-(?<region>[A-Za-z]{2}|[0-9]{3}))?(-(?<variant>[A-Za-z0-9]{5,8}|[0-9][A-Za-z0-9]{3}))*(-(?<extension>[0-9A-WY-Za-wy-z](-[A-Za-z0-9]{2,8})+))*(-(?<privateUse>x(-[A-Za-z0-9]{1,8})+))?)|(?<privateUse2>x(-[A-Za-z0-9]{1,8})+))","g");"html"===r&&("lang"in n?n.lang?s.test(n.lang)||t.warn(this.id+".invalid",{},a.line,i,this,a.raw,"The lang attribute value of <html> element must be a valid BCP47."):t.warn(this.id+".empty",{},a.line,i,this,a.raw,"The lang attribute of <html> element must have a value."):t.warn(this.id+".absent",{},a.line,i,this,a.raw,"An lang attribute must be present on <html> elements."))}))}};var O={};Object.defineProperty(O,"__esModule",{value:!0}),O.default={id:"id-class-ad-disabled",description:"The id and class attributes cannot use the ad keyword, it will be blocked by adblock software.",init(e,t){e.addListener("tagstart",(e=>{const a=e.attrs;let r,n;const i=e.col+e.tagName.length+1;for(let s=0,l=a.length;s<l;s++)r=a[s],n=r.name,/^(id|class)$/i.test(n)&&/(^|[-_])ad([-_]|$)/i.test(r.value)&&t.warn(this.id,{attrName:n},e.line,i+r.index,this,r.raw,`The value of attribute ${n} cannot use the ad keyword.`)}))}};var L={};Object.defineProperty(L,"__esModule",{value:!0}),L.default={id:"id-class-value",description:"The id and class attribute values must meet the specified rules.",init(e,t,a){let r,n=a;if("string"==typeof a?r={underline:{regId:/^[a-z\d]+(_[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by an underscore."},dash:{regId:/^[a-z\d]+(-[a-z\d]+)*$/,message:"The id and class attribute values must be in lowercase and split by a dash."},hump:{regId:/^[a-z][a-zA-Z\d]*([A-Z][a-zA-Z\d]*)*$/,message:"The id and class attribute values must meet the camelCase style."}}[a]:(n="",r=a),"object"==typeof r&&r.regId){let a=r.regId;const i=r.message;a instanceof RegExp||(a=new RegExp(a)),console.log(JSON.stringify(r)),console.log(JSON.stringify(n)),e.addListener("tagstart",(e=>{const r=e.attrs;let s;const l=e.col+e.tagName.length+1;for(let o=0,d=r.length;o<d;o++)if(s=r[o],"id"===s.name.toLowerCase()&&!1===a.test(s.value)&&t.warn(`${this.id}.${n}`,{},e.line,l+s.index,this,s.raw,i),"class"===s.name.toLowerCase()){const r=s.value.split(/\s+/g);let o;for(let d=0,u=r.length;d<u;d++)o=r[d],o&&!1===a.test(o)&&t.warn(`${this.id}.${n}`,{},e.line,l+s.index,this,o,i)}}))}}};var x={};Object.defineProperty(x,"__esModule",{value:!0}),x.default={id:"id-unique",description:"The value of id attributes must be unique.",init(e,t){const a={};e.addListener("tagstart",(e=>{const r=e.attrs;let n,i;const s=e.col+e.tagName.length+1;for(let l=0,o=r.length;l<o;l++)if(n=r[l],"id"===n.name.toLowerCase()){i=n.value,i&&(void 0===a[i]?a[i]=1:a[i]++,a[i]>1&&t.error(this.id,{},e.line,s+n.index,this,n.raw,`The id value [ ${i} ] must be unique.`));break}}))}};var j={};Object.defineProperty(j,"__esModule",{value:!0}),j.default={id:"inline-script-disabled",description:"Inline script cannot be used.",init(e,t){e.addListener("tagstart",(e=>{const a=e.attrs;let r;const n=e.col+e.tagName.length+1;let i;const s=/^on(unload|message|submit|select|scroll|resize|mouseover|mouseout|mousemove|mouseleave|mouseenter|mousedown|load|keyup|keypress|keydown|focus|dblclick|click|change|blur|error)$/i;for(let l=0,o=a.length;l<o;l++)r=a[l],i=r.name.toLowerCase(),!0===s.test(i)?t.warn(this.id,{attrRaw:r.raw},e.line,n+r.index,this,r.raw,`Inline script [ ${r.raw} ] cannot be used.`):"src"!==i&&"href"!==i||/^\s*javascript:/i.test(r.value)&&t.warn(this.id,{attrRaw:r.raw},e.line,n+r.index,this,r.raw,`Inline script [ ${r.raw} ] cannot be used.`)}))}};var P={};Object.defineProperty(P,"__esModule",{value:!0}),P.default={id:"inline-style-disabled",description:"Inline style cannot be used.",init(e,t){e.addListener("tagstart",(e=>{const a=e.attrs;let r;const n=e.col+e.tagName.length+1;for(let i=0,s=a.length;i<s;i++)r=a[i],"style"===r.name.toLowerCase()&&t.warn(this.id,{attrRaw:r.raw},e.line,n+r.index,this,r.raw,`Inline style [ ${r.raw} ] cannot be used.`)}))}};var _={};Object.defineProperty(_,"__esModule",{value:!0}),_.default={id:"input-requires-label",description:"All [ input ] tags must have a corresponding [ label ] tag. ",init(e,t){const a=[],r=[];e.addListener("tagstart",(t=>{const n=t.tagName.toLowerCase(),i=e.getMapAttrs(t.attrs),s=t.col+n.length+1;"input"===n&&"hidden"!==i.type&&r.push({event:t,col:s,id:i.id}),"label"===n&&"for"in i&&""!==i.for&&a.push({event:t,col:s,forValue:i.for})})),e.addListener("end",(()=>{r.forEach((e=>{(function(e){let t=!1;return a.forEach((a=>{e.id&&e.id===a.forValue&&(t=!0)})),t})(e)||t.warn(this.id,{},e.event.line,e.col,this,e.event.raw,"No matching [ label ] tag found.")}))}))}};var N={};Object.defineProperty(N,"__esModule",{value:!0}),N.default={id:"script-disabled",description:"The <script> tag cannot be used.",init(e,t){e.addListener("tagstart",(e=>{"script"===e.tagName.toLowerCase()&&t.error(this.id,{},e.line,e.col,this,e.raw,"The <script> tag cannot be used.")}))}};var $={};Object.defineProperty($,"__esModule",{value:!0}),$.default={id:"space-tab-mixed-disabled",description:"Do not mix tabs and spaces for indentation.",init(e,t,a){let r="nomix",n=null;if("string"==typeof a){const e=/^([a-z]+)(\d+)?/.exec(a);e&&(r=e[1],n=e[2]&&parseInt(e[2],10))}e.addListener("text",(a=>{const i=a.raw,s=/(^|\r?\n)([ \t]+)/g;let l;for(;l=s.exec(i);){const i=e.fixPos(a,l.index+l[1].length);if(1!==i.col)continue;const s=l[2];"space"===r?n?!1!==/^ +$/.test(s)&&s.length%n==0||t.warn(this.id+".space-length",{spaceLengthRequire:n},i.line,1,this,a.raw,`Please use space for indentation and keep ${n} length.`):!1===/^ +$/.test(s)&&t.warn(this.id+".space",{},i.line,1,this,a.raw,"Please use space for indentation."):"tab"===r&&!1===/^\t+$/.test(s)?t.warn(this.id+".tab",{},i.line,1,this,a.raw,"Please use tab for indentation."):!0===/ +\t|\t+ /.test(s)&&t.warn(this.id+".no-mix",{},i.line,1,this,a.raw,"Do not mix tabs and spaces for indentation.")}}))}};var A={};Object.defineProperty(A,"__esModule",{value:!0}),A.default={id:"spec-char-escape",description:"Special characters must be escaped.",init(e,t){e.addListener("text",(a=>{const r=a.raw,n=/([<>])|( \& )/g;let i;for(;i=n.exec(r);){const r=e.fixPos(a,i.index);t.error(this.id,{char:i[0]},r.line,r.col,this,a.raw,`Special characters must be escaped : [ ${i[0]} ].`)}}))}};var T={};Object.defineProperty(T,"__esModule",{value:!0}),T.default={id:"src-not-empty",description:"The src attribute of an img(script,link) must have a value.",init(e,t){e.addListener("tagstart",(e=>{const a=e.tagName,r=e.attrs;let n;const i=e.col+a.length+1;for(let s=0,l=r.length;s<l;s++)n=r[s],(!0===/^(img|script|embed|bgsound|iframe)$/.test(a)&&"src"===n.name||"link"===a&&"href"===n.name||"object"===a&&"data"===n.name)&&""===n.value&&t.error(this.id,{attrName:n.name,tagName:a},e.line,i+n.index,this,n.raw,`The attribute [ ${n.name} ] of the tag [ ${a} ] must have a value.`)}))}};var M={};Object.defineProperty(M,"__esModule",{value:!0}),M.default={id:"style-disabled",description:"<style> tags cannot be used.",init(e,t){e.addListener("tagstart",(e=>{"style"===e.tagName.toLowerCase()&&t.warn(this.id,{},e.line,e.col,this,e.raw,"The <style> tag cannot be used.")}))}};var C={};Object.defineProperty(C,"__esModule",{value:!0}),C.default={id:"tag-pair",description:"Tag must be paired.",init(e,t){const a=[],r=e.makeMap("area,base,basefont,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");e.addListener("tagstart",(e=>{const t=e.tagName.toLowerCase();void 0!==r[t]||e.close||a.push({tagName:t,line:e.line,raw:e.raw})})),e.addListener("tagend",(e=>{const r=e.tagName.toLowerCase();let n;for(n=a.length-1;n>=0&&a[n].tagName!==r;n--);if(n>=0){const r=[];for(let e=a.length-1;e>n;e--)r.push(`</${a[e].tagName}>`);if(r.length>0){const n=a[a.length-1];t.error(this.id+".paired-start",{tags:r.join(""),lastEventRaw:n.raw||"",lastEventLine:n.line||0},e.line,e.col,this,e.raw,`Tag must be paired, missing: [ ${r.join("")} ], start tag match failed [ ${n.raw} ] on line ${n.line}.`)}a.length=n}else t.error(this.id+".no-start",{eventRaw:e.raw},e.line,e.col,this,e.raw,`Tag must be paired, no start tag: [ ${e.raw} ]`)})),e.addListener("end",(e=>{const r=[];for(let e=a.length-1;e>=0;e--)r.push(`</${a[e].tagName}>`);if(r.length>0){const n=a[a.length-1];t.error(this.id+".paired-open",{tags:r.join(""),lastEventRaw:n.raw||"",lastEventLine:n.line||0},e.line,e.col,this,"",`Tag must be paired, missing: [ ${r.join("")} ], open tag match failed [ ${n.raw} ] on line ${n.line}.`)}}))}};var k={};Object.defineProperty(k,"__esModule",{value:!0}),k.default={id:"tag-self-close",description:"Empty tags must be self closed.",init(e,t){const a=e.makeMap("area,base,basefont,bgsound,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");e.addListener("tagstart",(e=>{const r=e.tagName.toLowerCase();void 0!==a[r]&&(e.close||t.warn(this.id,{tagName:r},e.line,e.col,this,e.raw,`The empty tag : [ ${r} ] must be self closed.`))}))}};var R={};Object.defineProperty(R,"__esModule",{value:!0}),R.default={id:"empty-tag-not-self-closed",description:"Empty tags must not use self closed syntax.",init(e,t){const a=e.makeMap("area,base,basefont,bgsound,br,col,frame,hr,img,input,isindex,link,meta,param,embed,track,command,source,keygen,wbr");e.addListener("tagstart",(e=>{const r=e.tagName.toLowerCase();void 0!==a[r]&&e.close&&t.error(this.id,{tagName:r},e.line,e.col,this,e.raw,`The empty tag : [ ${r} ] must not use self closed syntax.`)}))}};var q={};Object.defineProperty(q,"__esModule",{value:!0}),q.default={id:"tagname-lowercase",description:"All html element names must be in lowercase.",init(e,t,a){const r=Array.isArray(a)?a:[];e.addListener("tagstart,tagend",(e=>{const a=e.tagName;-1===r.indexOf(a)&&a!==a.toLowerCase()&&t.error(this.id,{tagName:a},e.line,e.col,this,e.raw,`The html element name of [ ${a} ] must be in lowercase.`)}))}};var E={};Object.defineProperty(E,"__esModule",{value:!0}),E.default={id:"tagname-specialchars",description:"All special characters must be escaped.",init(e,t){const a=/[^a-zA-Z0-9\-:_]/;e.addListener("tagstart,tagend",(e=>{const r=e.tagName;a.test(r)&&t.error(this.id,{tagName:r},e.line,e.col,this,e.raw,`The html element name of [ ${r} ] contains special character.`)}))}};var S={};Object.defineProperty(S,"__esModule",{value:!0}),S.default={id:"title-require",description:"<title> must be present in <head> tag.",init(e,t){let a=!1,r=!1;const n=e=>{const t=e.tagName.toLowerCase();"head"===t?a=!0:"title"===t&&a&&(r=!0)},i=a=>{const s=a.tagName.toLowerCase();if(r&&"title"===s){const e=a.lastEvent;("text"!==e.type||"text"===e.type&&!0===/^\s*$/.test(e.raw))&&t.error(this.id+".empty",{},a.line,a.col,this,a.raw,"<title></title> must not be empty.")}else"head"===s&&(!1===r&&t.error(this.id+".head",{},a.line,a.col,this,a.raw,"<title> must be present in <head> tag."),e.removeListener("tagstart",n),e.removeListener("tagend",i))};e.addListener("tagstart",n),e.addListener("tagend",i)}};var z={};Object.defineProperty(z,"__esModule",{value:!0});let D={a:{selfclosing:!1,attrsRequired:["href","title"],redundantAttrs:["alt"]},div:{selfclosing:!1},main:{selfclosing:!1,redundantAttrs:["role"]},nav:{selfclosing:!1,redundantAttrs:["role"]},script:{attrsOptional:[["async","async"],["defer","defer"]]},img:{selfclosing:!0,attrsRequired:["src","alt","title"]}};z.default={id:"tags-check",description:"Checks html tags.",init(e,t,a){D=Object.assign(Object.assign({},D),a),e.addListener("tagstart",(e=>{const a=e.attrs,r=e.col+e.tagName.length+1,n=e.tagName.toLowerCase();if(D[n]){const i=D[n];if(!0!==i.selfclosing||e.close?!1===i.selfclosing&&e.close&&t.warn(this.id+".not-selfclosing",{tagName:n},e.line,e.col,this,e.raw,`The <${n}> tag must not be selfclosing.`):t.warn(this.id+".selfclosing",{tagName:n},e.line,e.col,this,e.raw,`The <${n}> tag must be selfclosing.`),Array.isArray(i.attrsRequired)){i.attrsRequired.forEach((i=>{if(Array.isArray(i)){const s=i.map((e=>e)),l=s.shift()||"",o=s;a.some((e=>e.name===l))?a.forEach((a=>{a.name===l&&-1===o.indexOf(a.value)&&t.error(this.id+".attr-with-value",{tagName:n,attrName:l,values:o.join(", ")},e.line,r,this,e.raw,`The <${n}> tag must have attr '${l}' with one value of '${o.join("' or '")}'.`)})):t.error(this.id+".attr-required",{tagName:n,attrName:l},e.line,r,this,e.raw,`The <${n}> tag must have attr '${l}'.`)}else a.some((e=>-1!==i.split("|").indexOf(e.name)))||t.error(this.id+".attr-required",{tagName:n,attrName:i},e.line,r,this,e.raw,`The <${n}> tag must have attr '${i}'.`)}))}if(Array.isArray(i.attrsOptional)){i.attrsOptional.forEach((i=>{if(Array.isArray(i)){const s=i.map((e=>e)),l=s.shift(),o=s;a.some((e=>e.name===l))&&a.forEach((a=>{a.name===l&&-1===o.indexOf(a.value)&&t.error(this.id+"..optional-attr-with-values",{tagName:n,attrName:l,values:o.join(", ")},e.line,r,this,e.raw,`The <${n}> tag must have optional attr '${l}' with one value of '${o.join("' or '")}'.`)}))}}))}if(Array.isArray(i.redundantAttrs)){i.redundantAttrs.forEach((i=>{a.some((e=>e.name===i))&&t.error(this.id+".attr-is-redundant",{tagName:n,attrName:i},e.line,r,this,e.raw,`The attr '${i}' is redundant for <${n}> and should be omitted.`)}))}}}))}};var U={};return Object.defineProperty(U,"__esModule",{value:!0}),U.default={id:"attr-no-unnecessary-whitespace",description:"No spaces between attribute names and values.",init(e,t,a){const r=Array.isArray(a)?a:[];e.addListener("tagstart",(e=>{const a=e.attrs,n=e.col+e.tagName.length+1;for(let i=0;i<a.length;i++)if(-1===r.indexOf(a[i].name)){const r=/(\s*)=(\s*)/.exec(a[i].raw.trim());!r||0===r[1].length&&0===r[2].length||t.error(this.id,{attrName:a[i].name},e.line,n+a[i].index,this,a[i].raw,`The attribute '${a[i].name}' must not have spaces between the name and value.`)}}))}},function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.attrNoUnnecessaryWhitespace=e.tagsCheck=e.titleRequire=e.tagnameSpecialChars=e.tagnameLowercase=e.emptyTagNotSelfClosed=e.tagSelfClose=e.tagPair=e.styleDisabled=e.srcNotEmpty=e.specCharEscape=e.spaceTabMixedDisabled=e.scriptDisabled=e.inputRequiresLabel=e.inlineStyleDisabled=e.inlineScriptDisabled=e.idUnique=e.idClassValue=e.idClsasAdDisabled=e.htmlLangRequire=e.hrefAbsOrRel=e.headScriptDisabled=e.doctypeHTML5=e.doctypeFirst=e.attrWhitespace=e.attrValueSingleQuotes=e.attrValueNotEmpty=e.attrValueDoubleQuotes=e.attrUnsafeChars=e.attrNoDuplication=e.attrSort=e.attrLowercase=e.altRequire=void 0;var t=i;Object.defineProperty(e,"altRequire",{enumerable:!0,get:function(){return t.default}});var a=s;Object.defineProperty(e,"attrLowercase",{enumerable:!0,get:function(){return a.default}});var r=d;Object.defineProperty(e,"attrSort",{enumerable:!0,get:function(){return r.default}});var n=u;Object.defineProperty(e,"attrNoDuplication",{enumerable:!0,get:function(){return n.default}});var l=c;Object.defineProperty(e,"attrUnsafeChars",{enumerable:!0,get:function(){return l.default}});var o=h;Object.defineProperty(e,"attrValueDoubleQuotes",{enumerable:!0,get:function(){return o.default}});var D=f;Object.defineProperty(e,"attrValueNotEmpty",{enumerable:!0,get:function(){return D.default}});var Z=g;Object.defineProperty(e,"attrValueSingleQuotes",{enumerable:!0,get:function(){return Z.default}});var H=p;Object.defineProperty(e,"attrWhitespace",{enumerable:!0,get:function(){return H.default}});var I=m;Object.defineProperty(e,"doctypeFirst",{enumerable:!0,get:function(){return I.default}});var F=b;Object.defineProperty(e,"doctypeHTML5",{enumerable:!0,get:function(){return F.default}});var V=v;Object.defineProperty(e,"headScriptDisabled",{enumerable:!0,get:function(){return V.default}});var B=y;Object.defineProperty(e,"hrefAbsOrRel",{enumerable:!0,get:function(){return B.default}});var J=w;Object.defineProperty(e,"htmlLangRequire",{enumerable:!0,get:function(){return J.default}});var Y=O;Object.defineProperty(e,"idClsasAdDisabled",{enumerable:!0,get:function(){return Y.default}});var W=L;Object.defineProperty(e,"idClassValue",{enumerable:!0,get:function(){return W.default}});var Q=x;Object.defineProperty(e,"idUnique",{enumerable:!0,get:function(){return Q.default}});var X=j;Object.defineProperty(e,"inlineScriptDisabled",{enumerable:!0,get:function(){return X.default}});var G=P;Object.defineProperty(e,"inlineStyleDisabled",{enumerable:!0,get:function(){return G.default}});var K=_;Object.defineProperty(e,"inputRequiresLabel",{enumerable:!0,get:function(){return K.default}});var ee=N;Object.defineProperty(e,"scriptDisabled",{enumerable:!0,get:function(){return ee.default}});var te=$;Object.defineProperty(e,"spaceTabMixedDisabled",{enumerable:!0,get:function(){return te.default}});var ae=A;Object.defineProperty(e,"specCharEscape",{enumerable:!0,get:function(){return ae.default}});var re=T;Object.defineProperty(e,"srcNotEmpty",{enumerable:!0,get:function(){return re.default}});var ne=M;Object.defineProperty(e,"styleDisabled",{enumerable:!0,get:function(){return ne.default}});var ie=C;Object.defineProperty(e,"tagPair",{enumerable:!0,get:function(){return ie.default}});var se=k;Object.defineProperty(e,"tagSelfClose",{enumerable:!0,get:function(){return se.default}});var le=R;Object.defineProperty(e,"emptyTagNotSelfClosed",{enumerable:!0,get:function(){return le.default}});var oe=q;Object.defineProperty(e,"tagnameLowercase",{enumerable:!0,get:function(){return oe.default}});var de=E;Object.defineProperty(e,"tagnameSpecialChars",{enumerable:!0,get:function(){return de.default}});var ue=S;Object.defineProperty(e,"titleRequire",{enumerable:!0,get:function(){return ue.default}});var ce=z;Object.defineProperty(e,"tagsCheck",{enumerable:!0,get:function(){return ce.default}});var he=U;Object.defineProperty(e,"attrNoUnnecessaryWhitespace",{enumerable:!0,get:function(){return he.default}})}(n),function(e){Object.defineProperty(e,"__esModule",{value:!0}),e.HTMLParser=e.Reporter=e.HTMLRules=e.HTMLHint=void 0;const t=a;e.HTMLParser=t.default;const i=r;e.Reporter=i.default;const s=n;e.HTMLRules=s;function l(e,t){return new Array(e+1).join(t||" ")}e.HTMLHint=new class{constructor(){this.rules={},this.defaultRuleset={"tagname-lowercase":!0,"attr-lowercase":!0,"attr-value-double-quotes":!0,"doctype-first":!0,"tag-pair":!0,"spec-char-escape":!0,"id-unique":!0,"src-not-empty":!0,"attr-no-duplication":!0,"title-require":!0}}addRule(e){this.rules[e.id]=e}verify(e,a=this.defaultRuleset){0===Object.keys(a).length&&(a=this.defaultRuleset),e=e.replace(/^\s*<!--\s*htmlhint\s+([^\r\n]+?)\s*-->/i,((e,t)=>(t.replace(/(?:^|,)\s*([^:,]+)\s*(?:\:\s*([^,\s]+))?/g,((e,t,r)=>(a[t]=!(void 0!==r&&r.length>0)||JSON.parse(r),""))),"")));const r=new t.default,n=new i.default(e,a),s=this.rules;let l;for(const e in a)l=s[e],void 0!==l&&!1!==a[e]&&l.init(r,n,a[e]);return r.parse(e),n.messages}format(e,t={}){const a=[],r={white:"",grey:"",red:"",reset:""};t.colors&&(r.white="[37m",r.grey="[90m",r.red="[31m",r.reset="[39m");const n=t.indent||0;return e.forEach((e=>{let t=e.evidence;const i=e.line,s=e.col,o=t.length;let d=s>41?s-40:1,u=t.length>s+60?s+60:o;s<41&&(u+=40-s+1),t=t.replace(/\t/g," ").substring(d-1,u),d>1&&(t=`...${t}`,d-=3),u<o&&(t+="..."),a.push(`${r.white+l(n)}L${i} |${r.grey}${t}${r.reset}`);let c=s-d;const h=t.substring(0,c).match(/[^\u0000-\u00ff]/g);null!==h&&(c+=h.length),a.push(`${r.white+l(n)+l(String(i).length+3+c)}^ ${r.red}${e.message} (${e.rule.id})${r.reset}`)})),a}},Object.keys(s).forEach((t=>{e.HTMLHint.addRule(s[t])}))}(t),e(t)}));
